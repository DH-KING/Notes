(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2843:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eT});var r=a(5155),s=a(9137),l=a.n(s),d=a(2115),i=a(1368),n=a(2596),o=a(9688);function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,n.$)(t))}let x=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});x.displayName="Card";let m=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",a),...s})});m.displayName="CardHeader";let g=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("text-2xl font-semibold leading-none tracking-tight",a),...s})});g.displayName="CardTitle",d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let u=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("p-6 pt-0",a),...s})});u.displayName="CardContent";let h=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:c("flex items-center p-6 pt-0",a),...s})});h.displayName="CardFooter";var f=a(6981),p=a(5196);let b=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(f.bL,{ref:t,className:c("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,r.jsx)(f.C1,{className:c("flex items-center justify-center text-current"),children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})})});b.displayName=f.bL.displayName;var k=a(9708),v=a(2085);let j=(0,v.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=d.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...i}=e,n=d?k.DX:"button";return(0,r.jsx)(n,{className:c(j({variant:s,size:l,className:a})),ref:t,...i})});y.displayName="Button";var N=a(5187),w=a(9963),C=a(1380),S=a(2525);function F(e){var t,a,s;let{task:l,onDelete:i,onToggleCompletion:n,onTogglePin:o,onEdit:c,onChecklistItemToggle:f,fontFamilyClass:p,fontSizeClass:k,folders:v,cardSize:j}=e,F=!l.backgroundColor||"#FFFFFF"===l.backgroundColor,z=!F&&function(e){let t=e.replace(/^#/,"");if(6!==t.length)return!1;let a=Number.parseInt(t.substring(0,2),16),r=Number.parseInt(t.substring(2,4),16);return(.299*a+.587*r+.114*Number.parseInt(t.substring(4,6),16))/255>.5}(l.backgroundColor),T=F?"text-gray-600 dark:text-gray-300":z?"text-gray-700":"text-gray-300",I=F?"data-[state=checked]:bg-primary":z?"data-[state=checked]:bg-gray-800":"data-[state=checked]:bg-gray-50",P=F?"data-[state=checked]:text-primary-foreground":z?"data-[state=checked]:text-gray-50":"data-[state=checked]:text-gray-800",E=F?"border-input":z?"border-gray-400":"border-gray-600",A=l.folderId?null===(t=v.find(e=>e.id===l.folderId))||void 0===t?void 0:t.name:null,D=(0,d.useMemo)(()=>{switch(j){case"sm":return{cardPadding:"p-3",titleSize:"text-lg",contentSize:"text-sm",iconSize:"h-4 w-4",checkboxSize:"w-4 h-4",emojiSize:"text-xl",folderTextSize:"text-xs",trashButtonSize:"h-7 w-7",trashIconSize:"h-4 w-4"};case"lg":return{cardPadding:"p-5",titleSize:"text-2xl",contentSize:"text-lg",iconSize:"h-6 w-6",checkboxSize:"w-6 h-6",emojiSize:"text-3xl",folderTextSize:"text-sm",trashButtonSize:"h-9 w-9",trashIconSize:"h-6 w-6"};default:return{cardPadding:"p-4",titleSize:"text-xl",contentSize:"text-base",iconSize:"h-5 w-5",checkboxSize:"w-5 h-5",emojiSize:"text-2xl",folderTextSize:"text-xs",trashButtonSize:"h-8 w-8",trashIconSize:"h-5 w-5"}}},[j]);return(0,r.jsxs)(x,{onClick:()=>c(l),style:{backgroundColor:l.backgroundColor&&"#FFFFFF"!==l.backgroundColor?l.backgroundColor:void 0},className:"relative w-full max-w-md rounded-xl shadow-lg transition-all duration-300 cursor-pointer\n        ".concat(p," ").concat(k,"\n        ").concat(l.isCompleted?"opacity-70 border-green-400 dark:border-green-600":"hover:shadow-xl","\n        ").concat(l.isPinned?"border-2 border-purple-500 dark:border-purple-400 bg-purple-50/50 dark:bg-purple-950/30":"","\n        ").concat(l.backgroundColor&&"#FFFFFF"!==l.backgroundColor?"":"bg-lightCard dark:bg-darkCard","\n        ").concat(D.cardPadding,"\n        "),children:[l.isPinned&&(0,r.jsx)("div",{className:"absolute top-0 right-0 bg-purple-500 dark:bg-purple-400 text-white px-3 py-1 rounded-bl-lg text-xs font-bold z-10",children:"مثبتة"}),(0,r.jsx)(y,{variant:"ghost",size:"icon","aria-label":l.isPinned?"إلغاء تثبيت المهمة":"تثبيت المهمة",className:"absolute top-2 left-2 z-20 ".concat(F?"text-muted-foreground dark:text-gray-400":z?"text-gray-700":"text-gray-300"," hover:text-purple-600 dark:hover:text-purple-400"),onClick:e=>{e.stopPropagation(),o(l.id)},children:l.isPinned?(0,r.jsx)(N.A,{className:"".concat(D.iconSize," ").concat(F?"fill-purple-500":z?"fill-purple-700":"fill-purple-400")}):(0,r.jsx)(w.A,{className:D.iconSize})}),(0,r.jsx)(m,{className:"pb-2 flex items-center justify-between ".concat(D.cardPadding),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["text"===l.type&&(0,r.jsx)(b,{id:"task-".concat(l.id),checked:l.isCompleted,onClick:e=>e.stopPropagation(),onCheckedChange:()=>n(l.id),"aria-label":"تحديد المهمة ".concat(l.title," كمكتملة"),className:"".concat(D.checkboxSize," ").concat(E," ").concat(I," ").concat(P)}),(0,r.jsxs)(g,{className:"".concat(F?"text-lightText dark:text-darkText":z?"text-gray-900":"text-gray-50"," ").concat(D.titleSize," font-semibold ").concat(l.isCompleted&&"text"===l.type?"line-through text-gray-500 dark:text-gray-400":""),children:[l.emoji&&(0,r.jsx)("span",{className:"mr-2 ".concat(D.emojiSize),children:l.emoji}),l.title]})]})}),(0,r.jsx)(u,{className:"pt-2 ".concat(D.cardPadding),children:"text"===l.type?(0,r.jsx)("p",{className:"leading-relaxed select-none ".concat(T," ").concat(l.isCompleted?"line-through":""," ").concat(D.contentSize),children:l.content}):(0,r.jsxs)("div",{className:"grid gap-1",children:[null===(a=l.checklistItems)||void 0===a?void 0:a.filter(e=>!e.isCompleted).slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[" ",(0,r.jsx)(b,{id:"chk-".concat(l.id,"-").concat(e.id),checked:e.isCompleted,onClick:e=>e.stopPropagation(),onCheckedChange:()=>null==f?void 0:f(l.id,e.id),className:"".concat(D.checkboxSize," ").concat(E," ").concat(I," ").concat(P," mt-1")})," ",e.emoji&&(0,r.jsx)("span",{className:"".concat(D.contentSize," mt-1"),children:e.emoji})," ",(0,r.jsx)("span",{className:"".concat(D.contentSize," ").concat(T," flex-1"),children:e.text})," "]},e.id)),l.checklistItems&&l.checklistItems.filter(e=>!e.isCompleted).length>3&&(0,r.jsxs)("p",{className:"".concat(D.folderTextSize," ").concat(T," mt-1"),children:["و ",l.checklistItems.filter(e=>!e.isCompleted).length-3," المزيد..."]}),(null===(s=l.checklistItems)||void 0===s?void 0:s.some(e=>e.isCompleted))&&(0,r.jsxs)("p",{className:"".concat(D.folderTextSize," ").concat(T," mt-1"),children:["(",l.checklistItems.filter(e=>e.isCompleted).length," مكتملة)"]})]})}),(0,r.jsxs)(h,{className:"flex justify-between items-center pt-4 ".concat(D.cardPadding),children:[A&&(0,r.jsxs)("div",{className:"flex items-center gap-1 ".concat(D.folderTextSize," ").concat(T),children:[(0,r.jsx)(C.A,{className:D.iconSize}),(0,r.jsx)("span",{children:A})]}),(0,r.jsx)(y,{variant:"ghost",size:"icon","aria-label":"حذف المهمة ".concat(l.title),className:"bg-gray-800 hover:bg-gray-900 text-gray-50 dark:bg-gray-900 dark:hover:bg-black dark:text-gray-200 rounded-full ".concat(D.trashButtonSize),onClick:e=>{e.stopPropagation(),i(l.id)},children:(0,r.jsx)(S.A,{className:D.trashIconSize})})]})]})}var z=a(5452),T=a(4416);let I=z.bL;z.l9;let P=z.ZL;z.bm;let E=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(z.hJ,{ref:t,className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});E.displayName=z.hJ.displayName;let A=d.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(E,{}),(0,r.jsxs)(z.UC,{ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[s,(0,r.jsxs)(z.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(T.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});A.displayName=z.UC.displayName;let D=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};D.displayName="DialogHeader";let R=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:c("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};R.displayName="DialogFooter";let _=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(z.hE,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",a),...s})});_.displayName=z.hE.displayName;let L=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(z.VY,{ref:t,className:c("text-sm text-muted-foreground",a),...s})});L.displayName=z.VY.displayName;let V=d.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});V.displayName="Input";var J=a(968);let O=(0,v.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(J.b,{ref:t,className:c(O(),a),...s})});B.displayName=J.b.displayName;let H=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:c("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});H.displayName="Textarea";var M=a(8715),U=a(6474),Z=a(7863);let Y=M.bL;M.YJ;let q=M.WT,G=d.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(M.l9,{ref:t,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.jsx)(M.In,{asChild:!0,children:(0,r.jsx)(U.A,{className:"h-4 w-4 opacity-50"})})]})});G.displayName=M.l9.displayName;let Q=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(M.PP,{ref:t,className:c("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(Z.A,{className:"h-4 w-4"})})});Q.displayName=M.PP.displayName;let W=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(M.wn,{ref:t,className:c("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(U.A,{className:"h-4 w-4"})})});W.displayName=M.wn.displayName;let X=d.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...d}=e;return(0,r.jsx)(M.ZL,{children:(0,r.jsxs)(M.UC,{ref:t,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...d,children:[(0,r.jsx)(Q,{}),(0,r.jsx)(M.LM,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(W,{})]})})});X.displayName=M.UC.displayName,d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(M.JU,{ref:t,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=M.JU.displayName;let $=d.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(M.q7,{ref:t,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(M.VF,{children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})}),(0,r.jsx)(M.p4,{children:s})]})});$.displayName=M.q7.displayName,d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(M.wv,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=M.wv.displayName;var K=a(4861);let ee=[{name:"أصفر",hex:"#FFFDE7"},{name:"أزرق",hex:"#E8F0FE"},{name:"أخضر",hex:"#E6F4EA"},{name:"وردي",hex:"#FCE8F6"},{name:"بنفسجي",hex:"#F3E8FD"},{name:"رمادي",hex:"#E8EAED"},{name:"أبيض",hex:"#FFFFFF"},{name:"أخضر فاتح",hex:"#DCE8D8"},{name:"أزرق فاتح",hex:"#D8E8F8"},{name:"بنفسجي فاتح",hex:"#E8D8F8"},{name:"خوخي",hex:"#FFEDD5"},{name:"تركوازي",hex:"#D8F8F8"},{name:"لافندر",hex:"#E8D8F8"},{name:"وردي فاتح",hex:"#F8D8E8"},{name:"نعناعي",hex:"#D8F8E8"},{name:"كريمي",hex:"#FFF8D8"},{name:"سماء",hex:"#D8E8FF"},{name:"مرجاني",hex:"#FFD8D8"},{name:"رملي",hex:"#F8F8D8"}],et=e=>{let t=e.toLowerCase();return t.includes("حليب")?"\uD83E\uDD5B":t.includes("بيض")?"\uD83E\uDD5A":t.includes("خبز")?"\uD83C\uDF5E":t.includes("عمل")?"\uD83D\uDCBC":t.includes("دراسة")||t.includes("كتاب")?"\uD83D\uDCDA":t.includes("شمس")?"☀️":t.includes("قمر")?"\uD83C\uDF19":t.includes("تسوق")||t.includes("سوق")?"\uD83D\uDED2":t.includes("فكرة")?"\uD83D\uDCA1":t.includes("طعام")||t.includes("أكل")?"\uD83C\uDF7D️":void 0};function ea(e){var t,a,s,l,n,o;let{task:c,onSave:x,onClose:m,autoSaveEnabled:g,fontSizeClass:u,folders:h}=e,[f,p]=(0,d.useState)(null!==(t=null==c?void 0:c.title)&&void 0!==t?t:""),[k,v]=(0,d.useState)(null!==(a=null==c?void 0:c.content)&&void 0!==a?a:""),[j,N]=(0,d.useState)(null!==(s=null==c?void 0:c.type)&&void 0!==s?s:"text"),[w,C]=(0,d.useState)(null!==(l=null==c?void 0:c.checklistItems)&&void 0!==l?l:[]),[S,F]=(0,d.useState)(null!==(n=null==c?void 0:c.backgroundColor)&&void 0!==n?n:"#FFFFFF"),[z,T]=(0,d.useState)(null!==(o=null==c?void 0:c.folderId)&&void 0!==o?o:"default"),[P,E]=(0,d.useState)(void 0);(0,d.useEffect)(()=>{var e;E(null!==(e=et("".concat(f," ").concat(k)))&&void 0!==e?e:null==c?void 0:c.emoji)},[f,k]),(0,d.useEffect)(()=>{if(c){var e,t,a;p(c.title),v(c.content),N(c.type),C(null!==(e=c.checklistItems)&&void 0!==e?e:[]),F(null!==(t=c.backgroundColor)&&void 0!==t?t:"#FFFFFF"),T(null!==(a=c.folderId)&&void 0!==a?a:"default")}else p(""),v(""),N("text"),C([]),F("#FFFFFF"),T("default")},[c]);let J=(e,t)=>C(a=>a.map(a=>a.id===e?{...a,text:t,emoji:et(t)}:a)),O=e=>C(t=>t.map(t=>t.id===e?{...t,isCompleted:!t.isCompleted}:t)),M=e=>C(t=>t.filter(t=>t.id!==e)),U=function(){var e,t,a,r;let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("text"===j&&!f.trim()&&!k.trim())return;let l={id:null!==(e=null==c?void 0:c.id)&&void 0!==e?e:(0,i.A)(),title:f,content:k,isCompleted:null!==(t=null==c?void 0:c.isCompleted)&&void 0!==t&&t,isPinned:null!==(a=null==c?void 0:c.isPinned)&&void 0!==a&&a,createdAt:null!==(r=null==c?void 0:c.createdAt)&&void 0!==r?r:Date.now(),backgroundColor:S,type:j,checklistItems:w,emoji:P,folderId:z};x(l,s)};return(0,d.useEffect)(()=>{if(!g)return;let e=setTimeout(()=>U(!0),1e3);return()=>clearTimeout(e)}),(0,r.jsx)(I,{open:!0,onOpenChange:m,children:(0,r.jsxs)(A,{className:"sm:max-w-[550px] rounded-lg shadow-xl bg-lightCard dark:bg-darkCard",children:[(0,r.jsxs)(D,{children:[(0,r.jsxs)(_,{className:"text-2xl font-bold text-lightText dark:text-darkText",children:[" ",c?"تعديل المهمة":"إضافة مهمة"," "]}),(0,r.jsx)(L,{className:"text-sm text-muted-foreground",children:c?"قم بتعديل بيانات المهمة ثم احفظ.":"أضف مهمة جديدة إلى قائمتك."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(B,{htmlFor:"title",className:"text-right text-lightText dark:text-darkText",children:"العنوان"}),(0,r.jsx)(V,{id:"title",value:f,onChange:e=>p(e.target.value),className:"col-span-3 bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(B,{className:"text-lightText dark:text-darkText",children:"النوع"}),(0,r.jsxs)(Y,{value:j,onValueChange:e=>N(e),children:[(0,r.jsx)(G,{className:"col-span-3 bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر النوع"})}),(0,r.jsxs)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:[(0,r.jsx)($,{value:"text",children:"نص"}),(0,r.jsx)($,{value:"checklist",children:"قائمة مرجعية"})]})]})]}),"text"===j&&(0,r.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,r.jsx)(B,{htmlFor:"content",className:"pt-2 text-lightText dark:text-darkText",children:"المحتوى"}),(0,r.jsx)(H,{id:"content",value:k,onChange:e=>v(e.target.value),className:"col-span-3 min-h-[100px] resize-y bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText"})]}),"checklist"===j&&(0,r.jsxs)("div",{className:"space-y-3",children:[w.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(b,{checked:e.isCompleted,onCheckedChange:()=>O(e.id)}),e.emoji&&(0,r.jsx)("span",{className:"text-xl",children:e.emoji}),(0,r.jsx)(V,{value:e.text,onChange:t=>J(e.id,t.target.value),placeholder:"عنصر جديد",className:"flex-1 bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText"}),(0,r.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>M(e.id),children:"حذف"})]},e.id)),(0,r.jsx)(y,{variant:"outline",onClick:()=>C(e=>[...e,{id:(0,i.A)(),text:"",isCompleted:!1,emoji:void 0}]),children:"إضافة عنصر"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(B,{className:"text-lightText dark:text-darkText",children:"المجلد"}),(0,r.jsxs)(Y,{value:z,onValueChange:T,children:[(0,r.jsx)(G,{className:"col-span-3 bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر مجلدًا"})}),(0,r.jsx)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:h.map(e=>(0,r.jsx)($,{value:e.id,children:e.name},e.id))})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(B,{className:"text-lightText dark:text-darkText",children:"اللون"}),(0,r.jsxs)("div",{className:"col-span-3 flex flex-wrap gap-2",children:[ee.map(e=>(0,r.jsx)("button",{"aria-label":"لون ".concat(e.name),className:"w-7 h-7 rounded-full border-2 relative ".concat(S===e.hex?"border-gray-600 dark:border-gray-300":"border-transparent"),style:{backgroundColor:e.hex},onClick:()=>{F(e.hex)},children:S===e.hex&&(0,r.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-800 dark:text-gray-100",children:"✓"})},e.hex)),"#FFFFFF"!==S&&(0,r.jsx)(y,{variant:"ghost",size:"icon",className:"w-7 h-7 rounded-full border-2 border-gray-300 dark:border-gray-700 flex items-center justify-center",onClick:()=>F("#FFFFFF"),"aria-label":"مسح اللون",children:(0,r.jsx)(K.A,{className:"h-4 w-4 text-gray-500"})})]})]})]}),(0,r.jsxs)(R,{children:[(0,r.jsx)(y,{variant:"outline",onClick:m,children:"إلغاء"}),(0,r.jsx)(y,{onClick:()=>{U(!1),m()},children:"حفظ"})]})]})})}var er=a(2098),es=a(3509),el=a(1362),ed=a(9449),ei=a(3052),en=a(9428);let eo=ed.bL,ec=ed.l9;ed.YJ,ed.ZL,ed.Pb,ed.z6,d.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...d}=e;return(0,r.jsxs)(ed.ZP,{ref:t,className:c("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...d,children:[l,(0,r.jsx)(ei.A,{className:"ml-auto"})]})}).displayName=ed.ZP.displayName,d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ed.G5,{ref:t,className:c("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=ed.G5.displayName;let ex=d.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(ed.ZL,{children:(0,r.jsx)(ed.UC,{ref:t,sideOffset:s,className:c("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});ex.displayName=ed.UC.displayName;let em=d.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(ed.q7,{ref:t,className:c("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...l})});function eg(){let{setTheme:e}=(0,el.D)();return(0,r.jsxs)(eo,{children:[(0,r.jsx)(ec,{asChild:!0,children:(0,r.jsxs)(y,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,r.jsx)(er.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(es.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"تبديل الوضع"})]})}),(0,r.jsxs)(ex,{align:"end",children:[(0,r.jsx)(em,{onClick:()=>e("light"),children:"فاتح"}),(0,r.jsx)(em,{onClick:()=>e("dark"),children:"داكن"}),(0,r.jsx)(em,{onClick:()=>e("system"),children:"النظام"})]})]})}em.displayName=ed.q7.displayName,d.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...d}=e;return(0,r.jsxs)(ed.H_,{ref:t,className:c("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ed.VF,{children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})}),s]})}).displayName=ed.H_.displayName,d.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(ed.hN,{ref:t,className:c("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ed.VF,{children:(0,r.jsx)(en.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=ed.hN.displayName,d.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(ed.JU,{ref:t,className:c("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=ed.JU.displayName,d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ed.wv,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=ed.wv.displayName;var eu=a(4884);let eh=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(eu.bL,{className:c("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:t,children:(0,r.jsx)(eu.zi,{className:c("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});eh.displayName=eu.bL.displayName;let ef=[{value:"sans",label:"افتراضي (Sans-serif)"},{value:"serif",label:"Serif"},{value:"mono",label:"Monospace"}],ep=[{value:"sm",label:"صغير"},{value:"base",label:"متوسط"},{value:"lg",label:"كبير"}],eb=[{value:"1",label:"عمود واحد"},{value:"2",label:"عمودين"},{value:"3",label:"ثلاثة أعمدة"}],ek=[{value:"sm",label:"صغير"},{value:"md",label:"متوسط"},{value:"lg",label:"كبير"}],ev=[{value:"sm",label:"صغير"},{value:"md",label:"متوسط"},{value:"lg",label:"كبير"}];function ej(e){let{isOpen:t,onClose:a,autoSaveEnabled:s,onToggleAutoSave:l,fontFamily:d,onSelectFontFamily:i,fontSize:n,onSelectFontSize:o,columns:c,onSelectColumns:x,folderSize:m,onSelectFolderSize:g,cardSize:u,onSelectCardSize:h}=e;return(0,r.jsx)(I,{open:t,onOpenChange:a,children:(0,r.jsxs)(A,{className:"sm:max-w-[425px] rounded-lg shadow-xl bg-lightCard dark:bg-darkCard",children:[(0,r.jsxs)(D,{children:[(0,r.jsx)(_,{className:"text-2xl font-bold text-lightText dark:text-darkText",children:"الإعدادات"}),(0,r.jsx)(L,{className:"text-sm text-muted-foreground",children:"قم بتخصيص تجربتك في VesperNotes."})]}),(0,r.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,r.jsx)(B,{htmlFor:"auto-save",className:"text-base text-lightText dark:text-darkText",children:"تمكين الحفظ التلقائي"}),(0,r.jsx)(eh,{id:"auto-save",checked:s,onCheckedChange:l,"aria-label":"تبديل الحفظ التلقائي"})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground -mt-4",children:'عند تمكين الحفظ التلقائي، سيتم حفظ ملاحظاتك تلقائياً عند إغلاق نافذة التعديل. وإلا، ستحتاج إلى النقر على زر "حفظ".'}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(B,{htmlFor:"font-family",className:"text-base text-lightText dark:text-darkText",children:"خط النص"}),(0,r.jsxs)(Y,{value:d,onValueChange:i,children:[(0,r.jsx)(G,{className:"w-full bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر الخط"})}),(0,r.jsx)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:ef.map(e=>(0,r.jsx)($,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(B,{htmlFor:"font-size",className:"text-base text-lightText dark:text-darkText",children:"حجم الخط"}),(0,r.jsxs)(Y,{value:n,onValueChange:o,children:[(0,r.jsx)(G,{className:"w-full bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر الحجم"})}),(0,r.jsx)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:ep.map(e=>(0,r.jsx)($,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(B,{htmlFor:"columns",className:"text-base text-lightText dark:text-darkText",children:"عدد الأعمدة"}),(0,r.jsxs)(Y,{value:c,onValueChange:x,children:[(0,r.jsx)(G,{className:"w-full bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر عدد الأعمدة"})}),(0,r.jsx)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:eb.map(e=>(0,r.jsx)($,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(B,{htmlFor:"folder-size",className:"text-base text-lightText dark:text-darkText",children:"حجم المجلدات"}),(0,r.jsxs)(Y,{value:m,onValueChange:g,children:[(0,r.jsx)(G,{className:"w-full bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر الحجم"})}),(0,r.jsx)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:ek.map(e=>(0,r.jsx)($,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(B,{htmlFor:"card-size",className:"text-base text-lightText dark:text-darkText",children:"حجم البطاقات"}),(0,r.jsxs)(Y,{value:u,onValueChange:h,children:[(0,r.jsx)(G,{className:"w-full bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:(0,r.jsx)(q,{placeholder:"اختر الحجم"})}),(0,r.jsx)(X,{className:"bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",children:ev.map(e=>(0,r.jsx)($,{value:e.value,children:e.label},e.value))})]})]})]}),(0,r.jsx)(R,{children:(0,r.jsx)(y,{onClick:a,children:"إغلاق"})})]})})}var ey=a(5294),eN=a(9523),ew=a(381),eC=a(7924),eS=a(4395),eF=a(3717),ez=a(4616);function eT(){let[e,t]=(0,d.useState)([]),[a,s]=(0,d.useState)([]),[n,o]=(0,d.useState)("all"),[c,x]=(0,d.useState)(null),[m,g]=(0,d.useState)(!1),[u,h]=(0,d.useState)(!1),[f,p]=(0,d.useState)(!1),[b,k]=(0,d.useState)("sans"),[v,j]=(0,d.useState)("base"),[N,w]=(0,d.useState)("3"),[z,T]=(0,d.useState)(""),[P,E]=(0,d.useState)(null),[J,O]=(0,d.useState)("md"),[H,M]=(0,d.useState)("md"),[U,Z]=(0,d.useState)(!1),[Y,q]=(0,d.useState)(""),[G,Q]=(0,d.useState)(null);(0,d.useEffect)(()=>{let e=localStorage.getItem("memoira_tasks");e?t(JSON.parse(e)):t([{id:(0,i.A)(),title:"مهمة ترحيبية",content:"هذه أول مهمة لك! يمكنك إدارتها وتثبيتها أو إكمالها.",isCompleted:!1,isPinned:!0,createdAt:Date.now()-1e4,type:"text",backgroundColor:"#FFFDE7",emoji:"\uD83D\uDC4B",folderId:"default"},{id:(0,i.A)(),title:"قائمة التسوق",content:"",isCompleted:!1,isPinned:!1,createdAt:Date.now()-5e3,type:"checklist",backgroundColor:"#E6F4EA",emoji:"\uD83D\uDED2",checklistItems:[{id:(0,i.A)(),text:"حليب",isCompleted:!1},{id:(0,i.A)(),text:"بيض",isCompleted:!0},{id:(0,i.A)(),text:"خبز",isCompleted:!1}],folderId:"shopping"},{id:(0,i.A)(),title:"الانتهاء من تقرير المشروع",content:"مراجعة البيانات النهائية وكتابة الخلاصة.",isCompleted:!0,isPinned:!1,createdAt:Date.now()-15e3,type:"text",backgroundColor:"#E8F0FE",emoji:"\uD83D\uDCCA",folderId:"work"}]);let a=localStorage.getItem("memoira_folders");a?s(JSON.parse(a)):s([{id:"default",name:"عام"},{id:"shopping",name:"تسوق"},{id:"work",name:"عمل"}]);let r=localStorage.getItem("memoira_autoSave");null!==r&&p(JSON.parse(r));let l=localStorage.getItem("memoira_fontFamily");l&&k(l);let d=localStorage.getItem("memoira_fontSize");d&&j(d);let n=localStorage.getItem("memoira_columns");n&&w(n);let o=localStorage.getItem("memoira_folderSize");o&&O(o);let c=localStorage.getItem("memoira_cardSize");c&&M(c)},[]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_tasks",JSON.stringify(e))},[e]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_folders",JSON.stringify(a))},[a]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_autoSave",JSON.stringify(f))},[f]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_fontFamily",b)},[b]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_fontSize",v)},[v]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_columns",N)},[N]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_folderSize",J)},[J]),(0,d.useEffect)(()=>{localStorage.setItem("memoira_cardSize",H)},[H]);let W=function(a){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.some(e=>e.id===a.id)?t(e=>e.map(e=>e.id===a.id?a:e)):t(e=>[a,...e]),r||(x(null),g(!1))},X=e=>{t(t=>t.filter(t=>t.id!==e))},$=e=>{t(t=>t.map(t=>t.id===e?{...t,isCompleted:!t.isCompleted}:t))},K=e=>{t(t=>t.map(t=>t.id===e?{...t,isPinned:!t.isPinned}:t))},ee=(e,a)=>{t(t=>t.map(t=>t.id===e&&t.checklistItems?{...t,checklistItems:t.checklistItems.map(e=>e.id===a?{...e,isCompleted:!e.isCompleted}:e)}:t))},et=e=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا المجلد؟ سيتم نقل جميع المهام الموجودة فيه إلى المجلد العام.")&&(s(t=>t.filter(t=>t.id!==e)),t(t=>t.map(t=>t.folderId===e?{...t,folderId:"default"}:t)),P===e&&E(null))},{pinnedTasks:er,regularTasks:es}=(0,d.useMemo)(()=>{let t=e;if(P&&(t=t.filter(e=>e.folderId===P)),z){let e=z.toLowerCase();t=t.filter(t=>{var a;return t.title.toLowerCase().includes(e)||t.content.toLowerCase().includes(e)||"checklist"===t.type&&(null===(a=t.checklistItems)||void 0===a?void 0:a.some(t=>t.text.toLowerCase().includes(e)))})}return"active"===n?t=t.filter(e=>!e.isCompleted):"completed"===n?t=t.filter(e=>e.isCompleted):"pinned"===n&&(t=t.filter(e=>e.isPinned)),{pinnedTasks:t.filter(e=>e.isPinned).sort((e,t)=>t.createdAt-e.createdAt),regularTasks:t.filter(e=>!e.isPinned).sort((e,t)=>t.createdAt-e.createdAt)}},[e,n,z,P]),el=(0,d.useMemo)(()=>{switch(N){case"1":return"grid-cols-1";case"2":return"grid-cols-1 md:grid-cols-2";default:return"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}},[N]),ed=(0,d.useMemo)(()=>{switch(b){case"serif":return"font-serif";case"mono":return"font-mono";default:return"font-sans"}},[b]),ei=(0,d.useMemo)(()=>{switch(v){case"sm":return"text-sm";case"lg":return"text-lg";default:return"text-base"}},[v]),en=(0,d.useMemo)(()=>{switch(J){case"sm":return{button:"text-xs px-2 py-0.5",icon:"h-3 w-3",editTrashIcon:"h-4 w-4",plusIcon:"h-2.5 w-2.5"};case"lg":return{button:"text-base px-4 py-2",icon:"h-5 w-5",editTrashIcon:"h-7 w-7",plusIcon:"h-4 w-4"};default:return{button:"text-sm px-3 py-1.5",icon:"h-4 w-4",editTrashIcon:"h-6 w-6",plusIcon:"h-3.5 w-3.5"}}},[J]);return(0,r.jsxs)("main",{className:"jsx-2362120c577dfa47 "+"flex flex-col items-center p-6 md:p-10 gap-10 min-h-screen bg-lightBg dark:bg-darkBg text-lightText dark:text-darkText ".concat(ed," relative overflow-hidden"),children:[(0,r.jsx)("div",{style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%239C92AC' fillOpacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0 0v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM15 12v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0 0v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundSize:"60px 60px",animation:"moveBackground 60s linear infinite"},className:"jsx-2362120c577dfa47 absolute inset-0 z-0 opacity-10 dark:opacity-5"}),(0,r.jsx)(l(),{id:"2362120c577dfa47",children:"@-webkit-keyframes moveBackground{from{background-position:0 0}to{background-position:600px 600px}}@-moz-keyframes moveBackground{from{background-position:0 0}to{background-position:600px 600px}}@-o-keyframes moveBackground{from{background-position:0 0}to{background-position:600px 600px}}@keyframes moveBackground{from{background-position:0 0}to{background-position:600px 600px}}"}),(0,r.jsxs)("header",{className:"jsx-2362120c577dfa47 w-full max-w-6xl flex flex-col sm:flex-row justify-between items-center gap-4 z-10",children:[(0,r.jsxs)("h1",{className:"jsx-2362120c577dfa47 text-4xl md:text-5xl font-extrabold text-accentPrimaryLight dark:text-accentPrimaryDark drop-shadow-md text-center sm:text-left flex items-center gap-3",children:[(0,r.jsx)(eN.A,{className:"w-8 h-8 md:w-10 md:h-10 fill-accentPrimaryLight dark:fill-accentPrimaryDark"}),"VesperNotes"]}),(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 flex items-center gap-2",children:[(0,r.jsx)(y,{variant:"ghost",size:"icon",onClick:()=>h(!0),"aria-label":"الإعدادات",children:(0,r.jsx)(ew.A,{className:"h-6 w-6"})}),(0,r.jsx)(eg,{})]})]}),(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 w-full max-w-2xl flex flex-col items-center gap-4 z-10",children:[" ",(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 w-full relative",children:[(0,r.jsx)(V,{type:"text",placeholder:"البحث عن المهام...",value:z,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-full shadow-md bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-accentPrimaryDark focus:border-transparent"}),(0,r.jsx)(eC.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500 dark:text-gray-400"})]}),(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 w-full flex flex-wrap justify-center gap-1 p-1 bg-lightCard dark:bg-darkCard rounded-xl shadow-md border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)(y,{variant:null===P?"default":"ghost",onClick:()=>E(null),className:"".concat(en.button," rounded-lg ").concat(null===P?"bg-accentPrimaryDark text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"جميع المجلدات"}),a.map(e=>(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 flex items-center group",children:[(0,r.jsxs)(y,{variant:P===e.id?"default":"ghost",onClick:()=>E(e.id),className:"".concat(en.button," rounded-lg flex items-center gap-1.5 ").concat(P===e.id?"bg-accentPrimaryDark text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[P===e.id?(0,r.jsx)(eS.A,{className:en.icon}):(0,r.jsx)(C.A,{className:en.icon}),e.name]}),(0,r.jsx)(y,{variant:"ghost",size:"icon",className:"".concat(en.editTrashIcon," opacity-0 group-hover:opacity-100 transition-opacity text-gray-500 dark:text-gray-400 hover:text-accentPrimaryDark dark:hover:text-accentPrimaryLight"),onClick:()=>{Q(e),q(e.name),Z(!0)},"aria-label":"تعديل المجلد ".concat(e.name),children:(0,r.jsx)(eF.A,{className:en.icon})}),"default"!==e.id&&(0,r.jsx)(y,{variant:"ghost",size:"icon",className:"".concat(en.editTrashIcon," opacity-0 group-hover:opacity-100 transition-opacity text-red-500 hover:text-red-700"),onClick:()=>et(e.id),"aria-label":"حذف المجلد ".concat(e.name),children:(0,r.jsx)(S.A,{className:en.icon})})]},e.id)),(0,r.jsxs)(y,{variant:"outline",onClick:()=>{Q(null),q(""),Z(!0)},className:"".concat(en.button," rounded-lg border-dashed border-gray-400 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,r.jsx)(ez.A,{className:"".concat(en.plusIcon," mr-1")})," إضافة مجلد"]})]}),(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 w-full flex flex-wrap justify-center gap-2 p-2 bg-lightCard dark:bg-darkCard rounded-xl shadow-md border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)(y,{variant:"all"===n?"default":"ghost",onClick:()=>o("all"),className:"text-sm px-3 py-1.5 rounded-lg ".concat("all"===n?"bg-accentPrimaryDark text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"جميع المهام"}),(0,r.jsx)(y,{variant:"active"===n?"default":"ghost",onClick:()=>o("active"),className:"text-sm px-3 py-1.5 rounded-lg ".concat("active"===n?"bg-accentPrimaryDark text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"المهام النشطة"}),(0,r.jsx)(y,{variant:"completed"===n?"default":"ghost",onClick:()=>o("completed"),className:"text-sm px-3 py-1.5 rounded-lg ".concat("completed"===n?"bg-accentPrimaryDark text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"المهام المكتملة"}),(0,r.jsx)(y,{variant:"pinned"===n?"default":"ghost",onClick:()=>o("pinned"),className:"text-sm px-3 py-1.5 rounded-lg ".concat("pinned"===n?"bg-accentPrimaryDark text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"المهام المثبتة"}),e.some(e=>e.isCompleted)&&(0,r.jsx)(y,{variant:"destructive",onClick:()=>{t(e=>e.filter(e=>!e.isCompleted))},className:"text-sm px-3 py-1.5 rounded-lg bg-red-500 hover:bg-red-600 text-white shadow-md",children:"مسح المكتملة"})]})]}),(0,r.jsx)(y,{className:"fixed bottom-8 right-8 w-16 h-16 rounded-full shadow-lg bg-accentPrimaryDark hover:bg-blue-600 text-white z-20 flex items-center justify-center text-3xl",onClick:()=>g(!0),"aria-label":"إضافة مهمة جديدة",children:(0,r.jsx)(ez.A,{className:"w-8 h-8"})}),(0,r.jsx)("section",{className:"jsx-2362120c577dfa47 w-full max-w-6xl flex flex-col items-center gap-6 z-10",children:(0,r.jsxs)(ey.JY,{onDragEnd:e=>{let{source:a,destination:r,draggableId:s}=e;if(r&&(a.droppableId!==r.droppableId||a.index!==r.index)&&a.droppableId===r.droppableId){if("pinned-tasks"===a.droppableId){let e=Array.from(er),[l]=e.splice(a.index,1);e.splice(r.index,0,l),t(t=>{let a=[...t],l=a.findIndex(e=>e.id===s);if(-1!==l){let[t]=a.splice(l,1),s=e[r.index],d=a.findIndex(e=>e.id===s.id);-1!==d?a.splice(d,0,t):a.push(t)}return a.sort((t,a)=>{if(t.isPinned&&!a.isPinned)return -1;if(!t.isPinned&&a.isPinned)return 1;let r=e.findIndex(e=>e.id===t.id),s=e.findIndex(e=>e.id===a.id);if(-1!==r&&-1!==s)return r-s;let l=es.findIndex(e=>e.id===t.id),d=es.findIndex(e=>e.id===a.id);return -1!==l&&-1!==d?l-d:0})})}else if("regular-tasks"===a.droppableId){let e=Array.from(es),[l]=e.splice(a.index,1);e.splice(r.index,0,l),t(t=>{let a=[...t],l=a.findIndex(e=>e.id===s);if(-1!==l){let[t]=a.splice(l,1),s=e[r.index],d=a.findIndex(e=>e.id===s.id);-1!==d?a.splice(d,0,t):a.push(t)}return a.sort((t,a)=>{if(t.isPinned&&!a.isPinned)return -1;if(!t.isPinned&&a.isPinned)return 1;let r=er.findIndex(e=>e.id===t.id),s=er.findIndex(e=>e.id===a.id);if(-1!==r&&-1!==s)return r-s;let l=e.findIndex(e=>e.id===t.id),d=e.findIndex(e=>e.id===a.id);return -1!==l&&-1!==d?l-d:0})})}}},children:[er.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"jsx-2362120c577dfa47 text-2xl font-bold text-gray-800 dark:text-gray-200 self-start mb-4",children:"المهام المثبتة"}),(0,r.jsx)(ey.gL,{droppableId:"pinned-tasks",direction:"horizontal",children:e=>(0,r.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"jsx-2362120c577dfa47 "+"grid ".concat(el," gap-8 w-full"),children:[er.map((e,t)=>(0,r.jsx)(ey.sx,{draggableId:e.id,index:t,children:(t,s)=>(0,r.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,opacity:s.isDragging?.8:1,transition:"opacity 0.2s ease"},className:"jsx-2362120c577dfa47 "+(t.dragHandleProps&&null!=t.dragHandleProps.className&&t.dragHandleProps.className||t.draggableProps&&null!=t.draggableProps.className&&t.draggableProps.className||""),children:(0,r.jsx)(F,{task:e,onDelete:X,onToggleCompletion:$,onTogglePin:K,onEdit:x,onChecklistItemToggle:ee,fontFamilyClass:ed,fontSizeClass:ei,folders:a,cardSize:H})})},e.id)),e.placeholder]})}),(0,r.jsx)("hr",{className:"jsx-2362120c577dfa47 w-full max-w-6xl border-t-2 border-gray-300 dark:border-gray-700 my-8"})]}),es.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"jsx-2362120c577dfa47 text-2xl font-bold text-gray-800 dark:text-gray-200 self-start mb-4",children:"جميع المهام"}),(0,r.jsx)(ey.gL,{droppableId:"regular-tasks",direction:"horizontal",children:e=>(0,r.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"jsx-2362120c577dfa47 "+"grid ".concat(el," gap-8 w-full"),children:[es.map((e,t)=>(0,r.jsx)(ey.sx,{draggableId:e.id,index:t,children:(t,s)=>(0,r.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,opacity:s.isDragging?.8:1,transition:"opacity 0.2s ease"},className:"jsx-2362120c577dfa47 "+(t.dragHandleProps&&null!=t.dragHandleProps.className&&t.dragHandleProps.className||t.draggableProps&&null!=t.draggableProps.className&&t.draggableProps.className||""),children:(0,r.jsx)(F,{task:e,onDelete:X,onToggleCompletion:$,onTogglePin:K,onEdit:x,onChecklistItemToggle:ee,fontFamilyClass:ed,fontSizeClass:ei,folders:a,cardSize:H})})},e.id)),e.placeholder]})})]}),0===er.length&&0===es.length&&(0,r.jsx)("p",{className:"jsx-2362120c577dfa47 col-span-full text-center text-lg text-gray-600 dark:text-gray-400 py-10",children:((e,t)=>{if(t)return"لا توجد مهام مطابقة لبحثك.";switch(e){case"active":return"لا توجد مهام نشطة حالياً. أضف مهمة جديدة!";case"completed":return"لا توجد مهام مكتملة بعد. أكمل بعض المهام!";case"pinned":return"لا توجد مهام مثبتة. قم بتثبيت مهمة مهمة!";default:return"لا توجد مهام بعد. أضف مهمة جديدة!"}})(n,!!z)})]})}),c&&(0,r.jsx)(ea,{task:c,onSave:W,onClose:()=>x(null),autoSaveEnabled:f,fontSizeClass:ei,folders:a}),m&&(0,r.jsx)(ea,{task:null,onSave:W,onClose:()=>g(!1),autoSaveEnabled:f,fontSizeClass:ei,folders:a}),(0,r.jsx)(ej,{isOpen:u,onClose:()=>h(!1),autoSaveEnabled:f,onToggleAutoSave:p,fontFamily:b,onSelectFontFamily:k,fontSize:v,onSelectFontSize:j,columns:N,onSelectColumns:w,folderSize:J,onSelectFolderSize:O,cardSize:H,onSelectCardSize:M}),(0,r.jsx)(I,{open:U,onOpenChange:Z,children:(0,r.jsxs)(A,{className:"sm:max-w-[425px] rounded-lg shadow-xl bg-lightCard dark:bg-darkCard",children:[(0,r.jsxs)(D,{children:[(0,r.jsx)(_,{className:"text-2xl font-bold text-lightText dark:text-darkText",children:G?"تعديل المجلد":"إضافة مجلد جديد"}),(0,r.jsx)(L,{className:"text-sm text-muted-foreground",children:G?"قم بتعديل اسم المجلد.":"أدخل اسمًا للمجلد الجديد."})]}),(0,r.jsx)("div",{className:"jsx-2362120c577dfa47 grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"jsx-2362120c577dfa47 grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(B,{htmlFor:"folder-name",className:"text-right text-lightText dark:text-darkText",children:"الاسم"}),(0,r.jsx)(V,{id:"folder-name",value:Y,onChange:e=>q(e.target.value),className:"col-span-3 bg-lightCard dark:bg-darkCard text-lightText dark:text-darkText",placeholder:"اسم المجلد"})]})}),(0,r.jsxs)(R,{children:[(0,r.jsx)(y,{variant:"outline",onClick:()=>Z(!1),children:"إلغاء"}),(0,r.jsx)(y,{onClick:G?()=>{G&&Y.trim()&&!a.some(e=>e.id!==G.id&&e.name===Y.trim())&&(s(e=>e.map(e=>e.id===G.id?{...e,name:Y.trim()}:e)),q(""),Q(null),Z(!1))}:()=>{Y.trim()&&!a.some(e=>e.name===Y.trim())&&(s(e=>[...e,{id:(0,i.A)(),name:Y.trim()}]),q(""),Z(!1))},children:G?"حفظ التغييرات":"إضافة"})]})]})}),(0,r.jsx)("footer",{className:"jsx-2362120c577dfa47 w-full max-w-6xl text-center text-sm text-gray-600 dark:text-gray-400 mt-10 z-10",children:(0,r.jsx)("p",{className:"jsx-2362120c577dfa47",children:"VesperNotes — Developed with passion by Haider Al-Saadi \uD83C\uDDEE\uD83C\uDDF6"})})]})}},3261:(e,t,a)=>{Promise.resolve().then(a.bind(a,2843))}},e=>{var t=t=>e(e.s=t);e.O(0,[309,58,441,684,358],()=>t(3261)),_N_E=e.O()}]);